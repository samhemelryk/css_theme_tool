YUI.add("moodle-block_css_theme_tool-csseditor-cssviewer",function(e,t){var n=function(e){n.superclass.constructor.apply(this,arguments)};n.prototype={themetool:null,shown:!1,eventcloseoverlay:null,overlay:null,initializer:function(t){this.themetool=t.cssthemetool;var n=e.one(document.body),r=n.get("winHeight");this.overlay=new e.Overlay({bodyContent:"temp",width:"80%",height:Math.floor(r*.8),visible:!1,zIndex:500,id:"cssviewer-overlay"}),this.overlay.render(n),e.one("#cssviewer-overlay").addClass("css-theme-tool-overlay").setStyle("position","fixed").setStyle("margin",Math.floor(r*.1)+"px 10%"),e.on("windowresize",function(t){var r=n.get("winHeight");this.overlay.set("height",Math.floor(r*.8)),e.one("#cssviewer-overlay").setStyle("marginTop",Math.floor(r*.1))}),this.overlay.bodyNode.addClass("css_builder_overlay"),t.el.on("click",this.show,this),this.show(t.e)},show:function(t){this.themetool.hide_components();var n=e.Node.create('<div class="viewcssbox"></div>');for(var r in this.themetool.rules){var i=this.themetool.rules[r],s=e.Node.create('<div class="cssrule"></div>'),o=e.Node.create('<img src="'+M.util.image_url("t/edit","moodle")+'" alt="edit" style="width:11px;height:11px;" class="icon" />'),u=e.Node.create('<img src="'+M.util.image_url("t/delete","moodle")+'" alt="delete" style="width:11px;height:11px;" class="icon" />');s.append(o),s.append(u),s.append(e.Node.create('<span class="selector">'+i.selector+"</span> {"+i.styles.join("")+"}")),n.append(s),o.on("click",this.edit_rule,this,i),u.on("click",this.delete_rule,this,i)}this.overlay.set("bodyContent",n),this.overlay.show(),this.eventcloseoverlay=this.overlay.bodyNode.on("click",this.hide,this),this.shown=!0},hide:function(){this.shown&&(this.eventcloseoverlay.detach(),this.overlay.hide(),this.shown=!1)},edit_rule:function(e,t){this.themetool.edit_rule(t.selector)},delete_rule:function(e,t){this.themetool.delete_rule(t.selector)}},e.extend(n,e.Base,n.prototype,{NAME:"moodle-block_css_theme_tool-csseditor-cssviewer",ATTRS:{}}),e.augment(n,e.EventTarget),M.block_css_theme_tool.init_cssviewer=function(e){return new n(e)}},"@VERSION@",{requires:["moodle-block_css_theme_tool-csseditor","overlay"]});
